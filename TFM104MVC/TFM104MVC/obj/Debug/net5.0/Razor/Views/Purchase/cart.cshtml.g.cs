#pragma checksum "C:\Users\Tibame_T14\Documents\GitHub\TFM104-4\TFM104MVC\TFM104MVC\Views\Purchase\cart.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ccd243a0451789c19c6eb15aa462e7f443f7db24"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Purchase_cart), @"mvc.1.0.view", @"/Views/Purchase/cart.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Tibame_T14\Documents\GitHub\TFM104-4\TFM104MVC\TFM104MVC\Views\_ViewImports.cshtml"
using TFM104MVC;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Tibame_T14\Documents\GitHub\TFM104-4\TFM104MVC\TFM104MVC\Views\_ViewImports.cshtml"
using TFM104MVC.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ccd243a0451789c19c6eb15aa462e7f443f7db24", @"/Views/Purchase/cart.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"7d55a31bf224b05d842f37c5c48e4b11f1c3a59d", @"/Views/_ViewImports.cshtml")]
    public class Views_Purchase_cart : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\Users\Tibame_T14\Documents\GitHub\TFM104-4\TFM104MVC\TFM104MVC\Views\Purchase\cart.cshtml"
  
    ViewData["Title"] = "購物車";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<link rel=""stylesheet"" href=""/css/shopCart.css"" type=""text/css"">

<div class=""container d-block"">
    <!--麵包屑-->
    <div class=""row mt-3"">
        <nav style=""--bs-breadcrumb-divider: '>';"" aria-label=""breadcrumb"">
            <ol class=""breadcrumb"">
                <li class=""fw-bold breadcrumb-item active"" aria-current=""page"">購物車</li>
                <li class=""text-secondary breadcrumb-item"">填寫資料與付款</li>
                <li class=""text-secondary breadcrumb-item"">訂購完成</li>
            </ol>
        </nav>
    </div>
</div>

<!--購物車本體-->
<div class=""container"" id=""ShopCart"">

    <div class=""row"">
        <!--空的購物車-->
        <div class=""empty-cart"" v-if=""cartList.length ==0"">
            <div class=""board d-block align-item-center"">
                <!--購物車標題-->
                <div class=""board-title"">
                    <span class=""fs-5 fw-bold"">購物車</span>
                </div>
                <hr class=""text-muted"">
                <div class=""d-block text-center"">
      ");
            WriteLiteral(@"              <div class=""mx-auto my-3"">
                        <div class=""mx-auto d-block mb-3"">
                            <img src=""https://cdn.kkday.com/pc-web/assets/img/empty_state/shopping_cart.svg"" width=""120""
                                 height=""120"">
                        </div>
                        <p class=""fw-bold text-muted text-center fs-6"">您的購物車是空的</p>
                    </div>

                </div>
                <div class=""d-block text-center"">
                    <button class=""btn btn-info mt-3"" type=""button""");
            BeginWriteAttribute("onclick", " onclick=\"", 1624, "\"", 1678, 3);
            WriteAttributeValue("", 1634, "location.href=\'", 1634, 15, true);
#nullable restore
#line 43 "C:\Users\Tibame_T14\Documents\GitHub\TFM104-4\TFM104MVC\TFM104MVC\Views\Purchase\cart.cshtml"
WriteAttributeValue("", 1649, Url.Action("Index", "Home"), 1649, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1677, "\'", 1677, 1, true);
            EndWriteAttribute();
            WriteLiteral(@">
                        跟著kkday一起探索台灣
                    </button>
                </div>
            </div>
        </div>
        <!--有東西的購物車-->
        <div class=""board main-cart"" v-else>
            <!--購物車標題-->
            <div class=""board-title"">
                <span class=""fs-5 fw-bold"">購物車</span>
            </div>
            <hr class=""text-muted"">
            <!--購物車本體-->
            <div class=""container cart-group"">
                <div class=""row cart-item"" v-for=""item in cartList"">
                    <div class=""col-1 ckeckbox"">
                        <div class=""form-check"">
                            <input class=""form-check-input"" type=""checkbox"" v-model=""selectedProduct"" :value=""item.id"" :id=""item.id"">
                            <label class=""form-check-label"" for=""flexCheckChecked"">
                            </label>
                        </div>
                    </div>
                    <div class=""col-2"">
                        <a href=""#"">
   ");
            WriteLiteral(@"                         <img :src=""item.productPictures[0].url"" style=""width:50px;height:50px;"">
                        </a>
                    </div>
                    <div class=""col-2"">
                        <a :href=""'/ProductView/product/'+ item.id "">
                            {{item.title}}
                        </a>
                    </div>
                    <div class=""col-2"">{{item.goTouristTime}}</div>
                    <div class=""col-2"">數量x{{item.qty}}</div>
                    <div class=""col-2"">
                        <span class=""fw-bold text-info "">
                            TWD {{item.price}}
                        </span>
                    </div>
                    <div class=""col-1"">
                        <span>
                            <a href=""javascript:;"">
                                <i class=""bi bi-heart""></i>
                            </a>
                        </span>
                        <span>
                           ");
            WriteLiteral(@" <a href=""javascript:;"">
                                <i class=""bi bi-trash3""></i>
                            </a>
                        </span>
                    </div>
                </div>
            </div>
            <hr class=""text-muted"">

            <div class="" board-footer"">
                <!--購物車勾選-->
                <div class="" board-action my-3 ml-3"">
                    <div class=""d-flex gap-1 align-items-center"">
                        <div class=""form-check"">
                            <input class=""form-check-input"" type=""checkbox""");
            BeginWriteAttribute("value", " value=\"", 4311, "\"", 4319, 0);
            EndWriteAttribute();
            WriteLiteral(@" id=""flexCheckChecked"" checked>
                            <label class=""form-check-label text-muted"" for=""flexCheckChecked"">
                                <a class=""text-muted"" href=""javascript:;"">
                                    全選(x)
                                </a>
                            </label>
                        </div>
                        <span class=""text-muted"">|</span>
                        <div class=""text-muted"">
                            <a href=""javascript:;"" class=""text-muted"">
                                刪除已選項目
                            </a>
                        </div>
                    </div>
                </div>
                <!--購物車金額計算&下單-->
                <div class="" board-cta d-flex justify-content-end"">
                    <div class=""cart-total"">
                        <div class=""d-flex justify-content-end"">
                            <!--總金額與點數-->
                            <div class=""item"">
                      ");
            WriteLiteral(@"          <!--商品金額-->
                                <div class=""d-flex gap-1 align-items-center"">
                                    <div class=""text-muted"">
                                        {{totalCount}}件商品合計
                                    </div>
                                    <div class=""fw-bold text-info fs-5"">
                                        TWD {{totalPrice}}
                                    </div>
                                </div>
                                <!--點數-->
                                <div class=""d-flex gap-1 align-items-center justify-content-end"">
                                    <div class=""text-muted"">
                                        KKday Points
                                    </div>
                                    <div class=""d-flex gap-2"">
                                        <span class=""text-warning"">
                                            <i class=""bi bi-exclamation-circle-fill""></i>
           ");
            WriteLiteral(@"                             </span>
                                        <div class=""fw-bold text-warning"">
                                            XX
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--下訂btn-->
                            <div class=""item btn"">
                                <div class=""d-flex justify-content-end gap-3"">
                                    <button type=""button"" class=""btn btn-info"" ");
            WriteLiteral(@"@click=""send"">
                                        前往結帳
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>


</div>

<div class=""container g-0 continue-shop"">
    <a id=""continue-shop"" class=""float-end""");
            BeginWriteAttribute("onclick", " onclick=\"", 7373, "\"", 7427, 3);
            WriteAttributeValue("", 7383, "location.href=\'", 7383, 15, true);
#nullable restore
#line 170 "C:\Users\Tibame_T14\Documents\GitHub\TFM104-4\TFM104MVC\TFM104MVC\Views\Purchase\cart.cshtml"
WriteAttributeValue("", 7398, Url.Action("Index", "Home"), 7398, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 7426, "\'", 7426, 1, true);
            EndWriteAttribute();
            WriteLiteral(@">繼續購物></a>
</div>

<!--你可能也會喜歡-->
<div class=""container cart-recommend mb-5"">
    <div class=""d-flex justify-content-between mb-3"">
        <span class=""fs-5 fw-bold"">▎你可能也會喜歡</span>
    </div>
    <div class=""row"">
        <!--商品單項 直接在最外層加a標籤-->
        <div class=""col-4"">
            <a class=""text-secondary"" href=""#"" target=""_blank"" rel=""noopener"">
                <div class=""mb-1"">
                    <div class=""card"">
                        <div class=""row g-0"">
                            <div class=""col-12 product-card-image"" style=""background-image: url(https://picsum.photos/150/100);"">
                                <div class=""mt-3 d-flex justify-content-between mx-3"">
                                    <!--地點-->
                                    <div class=""d-flex gap-1"">
                                        <span class=""text-light"">
                                            <i class=""bi bi-geo-alt-fill""></i>
                                        </span>
         ");
            WriteLiteral(@"                               <p><small class=""text-light"">地點</small></p>
                                    </div>
                                    <!--收藏愛心 這邊暫時不做a標籤 -->
                                    <div class=""text-light"">
                                        <span class=""text-danger""><i class=""bi bi-heart""></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class=""col-12"">
                                <div class=""card-body"">
                                    <div class=""d-flex justify-content-between"">
                                        <h5 class=""card-title mb-3"">商品標題</h5>
                                    </div>

                                    <!--產品資訊：評價&購買數量-->
                                    <div class=""product-info d-flex gap-1"">
                                        <!--評價-->
                                        <div class=""product-s");
            WriteLiteral(@"tar d-flex"">
                                            <span class=""text-warning""><i class=""bi bi-star-fill""></i></span>
                                            <p><small class=""text-muted"">(星星評價數)</small></p>
                                        </div>
                                        <span class=""divider"">|</span>
                                        <!--熱門程度-->
                                        <div class=""prodcut-book d-flex gap-1"">
                                            <span>
                                                <i class=""fas fa-fire text-danger""></i>
                                            </span>
                                            <p><small class=""text-muted"">xxxx個已訂購</small></p>
                                        </div>
                                    </div>
                                    <!--產品資訊：評價&熱門程度&價格-->
                                    <div class=""product-footer d-flex gap-1 "">
                              ");
            WriteLiteral(@"          <!--價格-->
                                        <div class=""product-price gap-3"">
                                            <div>
                                                <p class=""fw-bolder"">TWD X,XXX </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <!--商品單項 直接在最外層加a標籤-->
        <div class=""col-4"">
            <a class=""text-secondary"" href=""#"" target=""_blank"" rel=""noopener"">
                <div class=""mb-1"">
                    <div class=""card"">
                        <div class=""row g-0"">
                            <div class=""col-12 product-card-image"" style=""background-image: url(https://picsum.photos/150/100);"">
                                <div class=""mt-3 d-flex jus");
            WriteLiteral(@"tify-content-between mx-3"">
                                    <!--地點-->
                                    <div class=""d-flex gap-1"">
                                        <span class=""text-light"">
                                            <i class=""bi bi-geo-alt-fill""></i>
                                        </span>
                                        <p><small class=""text-light"">地點</small></p>
                                    </div>
                                    <!--收藏愛心 這邊暫時不做a標籤 -->
                                    <div class=""text-light"">
                                        <span class=""text-danger""><i class=""bi bi-heart""></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class=""col-12"">
                                <div class=""card-body"">
                                    <div class=""d-flex justify-content-between"">
                          ");
            WriteLiteral(@"              <h5 class=""card-title mb-3"">商品標題</h5>
                                    </div>

                                    <!--產品資訊：評價&購買數量-->
                                    <div class=""product-info d-flex gap-1"">
                                        <!--評價-->
                                        <div class=""product-star d-flex"">
                                            <span class=""text-warning""><i class=""bi bi-star-fill""></i></span>
                                            <p><small class=""text-muted"">(星星評價數)</small></p>
                                        </div>
                                        <span class=""divider"">|</span>
                                        <!--熱門程度-->
                                        <div class=""prodcut-book d-flex gap-1"">
                                            <span>
                                                <i class=""fas fa-fire text-danger""></i>
                                            </span>
            ");
            WriteLiteral(@"                                <p><small class=""text-muted"">xxxx個已訂購</small></p>
                                        </div>
                                    </div>
                                    <!--產品資訊：評價&熱門程度&價格-->
                                    <div class=""product-footer d-flex gap-1 "">
                                        <!--價格-->
                                        <div class=""product-price gap-3"">
                                            <div>
                                                <p class=""fw-bolder"">TWD X,XXX </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <!--商品單項 直接在最外層加a標籤-->
        <div class=""col-4"">
            <a class=""text-secondary"" href=""#"" t");
            WriteLiteral(@"arget=""_blank"" rel=""noopener"">
                <div class=""mb-1"">
                    <div class=""card"">
                        <div class=""row g-0"">
                            <div class=""col-12 product-card-image"" style=""background-image: url(https://picsum.photos/150/100);"">
                                <div class=""mt-3 d-flex justify-content-between mx-3"">
                                    <!--地點-->
                                    <div class=""d-flex gap-1"">
                                        <span class=""text-light"">
                                            <i class=""bi bi-geo-alt-fill""></i>
                                        </span>
                                        <p><small class=""text-light"">地點</small></p>
                                    </div>
                                    <!--收藏愛心 這邊暫時不做a標籤 -->
                                    <div class=""text-light"">
                                        <span class=""text-danger""><i class=""bi bi-heart""></i");
            WriteLiteral(@"></span>
                                    </div>
                                </div>
                            </div>
                            <div class=""col-12"">
                                <div class=""card-body"">
                                    <div class=""d-flex justify-content-between"">
                                        <h5 class=""card-title mb-3"">商品標題</h5>
                                    </div>

                                    <!--產品資訊：評價&購買數量-->
                                    <div class=""product-info d-flex gap-1"">
                                        <!--評價-->
                                        <div class=""product-star d-flex"">
                                            <span class=""text-warning""><i class=""bi bi-star-fill""></i></span>
                                            <p><small class=""text-muted"">(星星評價數)</small></p>
                                        </div>
                                        <span class=""divider"">|</sp");
            WriteLiteral(@"an>
                                        <!--熱門程度-->
                                        <div class=""prodcut-book d-flex gap-1"">
                                            <span>
                                                <i class=""fas fa-fire text-danger""></i>
                                            </span>
                                            <p><small class=""text-muted"">xxxx個已訂購</small></p>
                                        </div>
                                    </div>
                                    <!--產品資訊：評價&熱門程度&價格-->
                                    <div class=""product-footer d-flex gap-1 "">
                                        <!--價格-->
                                        <div class=""product-price gap-3"">
                                            <div>
                                                <p class=""fw-bolder"">TWD X,XXX </p>
                                            </div>
                                        </div>
  ");
            WriteLiteral(@"                                  </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>


<!--發購物車API-->
<script>
    var purchaseCarVue = new Vue({
        el: ""#ShopCart"",
        data: {
            cartList: [],
            selectedProduct:[]
        },
        mounted: function () {
            this.selectedProduct = [];
            this.getCurrentUserCart();
        },
        computed: {
            totalPrice: function () {
                return this.cartList.map(x=> x.price).reduce((now, next) => now + next, 0);
            },
            totalCount: function () {
                return this.cartList.length;
            }
        },
        methods: {
            getCurrentUserCart: function () {
                let self = this;
                axios.get(""/api/Cart/GetFullInfoCart"")
                    .then(");
            WriteLiteral(@"function (res) {
                        if (res.data.length == 0) {
                            self.cartList.splice(0);
                        } else {
                            self.cartList = res.data;
                        }
                    })
                    .catch(function (err) {
                        if (err.status == 404) {
                            alert(err.data);
                        }
                    });
            },
            send: function () {
                var form = document.createElement(""form"");
                form.method = ""post"";
                form.action = ""/Purchase/Booking""

                for (var i = 0; i < this.selectedProduct.length; i++) {
                    var inp = document.createElement(""input"");
                    inp.type = ""text"";
                    inp.name = ""productId"";
                    inp.value = this.selectedProduct[i];
                    form.appendChild(inp);
                }
                docume");
            WriteLiteral("nt.body.appendChild(form);\r\n                form.submit();\r\n            }\r\n\r\n        }\r\n    })\r\n</script>\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
